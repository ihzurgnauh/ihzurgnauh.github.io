import{d as W,L as b,A,f as L,o as E,a as F,y as v,q as H,i as O,M as V,N as $}from"./app-CVj9sSA9.js";const q="#88888825",j=27,S=1e3/40,K=W({__name:"Plum",setup(D){const{PI:f,cos:M,sin:C,random:a}=Math,I=f,y=f/2,g=f/12,m=v(null),t=V($()),w=v(!1),N=v(6);let s=[],u=[],r,x=performance.now();function P(e,o,l){const c=e.getContext("2d",{alpha:!0}),n=window.devicePixelRatio||1;return e.style.width=`${o}px`,e.style.height=`${l}px`,e.width=o*n,e.height=l*n,c.scale(n,n),c}const z=(e,o,l)=>{const{x:c,y:n,rad:i,counter:p}=e,_=a()*N.value;p.value+=1;const d=c+_*M(i),h=n+_*C(i);if(r.beginPath(),r.moveTo(c,n),r.lineTo(d,h),r.stroke(),d<-100||d>o+100||h<-100||h>l+100)return;const R=p.value<=j?.8:.5;a()<R&&s.push({x:d,y:h,rad:i+a()*g,counter:p}),a()<R&&s.push({x:d,y:h,rad:i-a()*g,counter:p})},{pause:k,resume:B}=b(()=>{const e=performance.now(),o=e-x;if(o<S)return;if(s.length===0&&u.length===0){w.value=!0,k();return}x=e-o%S,u=s,s=[];const l=t.width,c=t.height;for(let n=0;n<u.length;n++){const i=u[n];a()<.5?s.push(i):z(i,l,c)}},{immediate:!1});A(()=>{if(!m.value)return;k(),r=P(m.value,t.width,t.height),r.lineWidth=1,r.strokeStyle=q,x=performance.now(),u=[];const e=()=>a()*.6+.2;s=[{x:e()*t.width,y:-5,rad:y,counter:{value:0}},{x:e()*t.width,y:t.height+5,rad:-y,counter:{value:0}},{x:-5,y:e()*t.height,rad:0,counter:{value:0}},{x:t.width+5,y:e()*t.height,rad:I,counter:{value:0}}],t.width<500&&(s=s.slice(0,2)),w.value=!1,B()});const T=O(()=>{const e="radial-gradient(circle, transparent, black)";return{maskImage:e,WebkitMaskImage:e}});return(e,o)=>(E(),L("div",{class:"fixed inset-0 pointer-events-none print:hidden",style:H([{"z-index":"-1"},T.value])},[F("canvas",{ref_key:"el",ref:m},null,512)],4))}});export{K as default};
